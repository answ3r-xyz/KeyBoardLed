<Window x:Class="KeyboardLed.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:tb="http://www.hardcodet.net/taskbar"
        Title="Keyboard LEDs" 
        Height="520" 
        Width="420"
        ResizeMode="CanMinimize"
        WindowStartupLocation="CenterScreen"
        Icon="Resources/app.ico"
        Closing="Window_Closing"
        StateChanged="Window_StateChanged">
    
    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Header -->
        <Border Grid.Row="0" Background="#0078D4" Padding="15">
            <StackPanel>
                <TextBlock Text="âŒ¨ Keyboard LEDs" FontSize="20" FontWeight="Bold" Foreground="White"/>
                <TextBlock Text="Shows state of Num, Caps and Scroll locks" Foreground="#CCFFFFFF" FontSize="11" Margin="0,3,0,0"/>
            </StackPanel>
        </Border>
        
        <!-- Tray Icon -->
        <tb:TaskbarIcon x:Name="TrayIcon"
                        ToolTipText="Keyboard LEDs"
                        TrayMouseDoubleClick="TrayIcon_TrayMouseDoubleClick"/>
        
        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="10">
                
                <!-- Startup Settings -->
                <GroupBox Header="Startup" Style="{StaticResource GroupBoxStyle}">
                    <StackPanel>
                        <CheckBox x:Name="ChkAutoStart" 
                                  Content="Automatically run program on startup" 
                                  Style="{StaticResource ModernCheckBox}"
                                  Checked="ChkAutoStart_Changed" 
                                  Unchecked="ChkAutoStart_Changed"/>
                        <CheckBox x:Name="ChkBeepOnChange" 
                                  Content="Beep on lock state change" 
                                  Style="{StaticResource ModernCheckBox}"
                                  Checked="Settings_Changed" 
                                  Unchecked="Settings_Changed"/>
                    </StackPanel>
                </GroupBox>
                
                <!-- Current State Display -->
                <GroupBox Header="Current State" Style="{StaticResource GroupBoxStyle}">
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <Border x:Name="NumLockState" Background="#32CD32" CornerRadius="5" Padding="15,8" Margin="5">
                            <TextBlock x:Name="NumLockStateText" Text="Num Lock" Foreground="White" FontWeight="SemiBold"/>
                        </Border>
                        <Border x:Name="CapsLockState" Background="#FF6B6B" CornerRadius="5" Padding="15,8" Margin="5">
                            <TextBlock x:Name="CapsLockStateText" Text="Caps Lock" Foreground="White" FontWeight="SemiBold"/>
                        </Border>
                        <Border x:Name="ScrollLockState" Background="#FF6B6B" CornerRadius="5" Padding="15,8" Margin="5">
                            <TextBlock x:Name="ScrollLockStateText" Text="Scroll Lock" Foreground="White" FontWeight="SemiBold"/>
                        </Border>
                    </StackPanel>
                </GroupBox>
                
                <!-- On Screen Display Settings -->
                <GroupBox Header="On Screen Display (Overlay)" Style="{StaticResource GroupBoxStyle}">
                    <StackPanel>
                        <CheckBox x:Name="ChkShowOverlay" 
                                  Content="Enable On Screen Display" 
                                  Style="{StaticResource ModernCheckBox}"
                                  IsChecked="True"
                                  Checked="Settings_Changed" 
                                  Unchecked="Settings_Changed"/>
                        
                        <Grid Margin="20,10,0,0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <CheckBox Grid.Row="0" Grid.Column="0" x:Name="ChkOsdNumLock" Content="Num Lock" 
                                      IsChecked="True" Style="{StaticResource ModernCheckBox}"
                                      Checked="Settings_Changed" Unchecked="Settings_Changed"/>
                            <CheckBox Grid.Row="1" Grid.Column="0" x:Name="ChkOsdCapsLock" Content="Caps Lock" 
                                      IsChecked="True" Style="{StaticResource ModernCheckBox}"
                                      Checked="Settings_Changed" Unchecked="Settings_Changed"/>
                            <CheckBox Grid.Row="2" Grid.Column="0" x:Name="ChkOsdScrollLock" Content="Scroll Lock" 
                                      IsChecked="True" Style="{StaticResource ModernCheckBox}"
                                      Checked="Settings_Changed" Unchecked="Settings_Changed"/>
                        </Grid>
                        
                        <Separator Margin="0,10"/>
                        
                        <!-- Size and Colors -->
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Size:" VerticalAlignment="Center" Margin="0,3"/>
                            <ComboBox Grid.Row="0" Grid.Column="1" x:Name="CmbSize" Width="100" HorizontalAlignment="Left"
                                      SelectionChanged="Settings_Changed">
                                <ComboBoxItem Content="Small"/>
                                <ComboBoxItem Content="Normal" IsSelected="True"/>
                                <ComboBoxItem Content="Large"/>
                            </ComboBox>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Body Color:" VerticalAlignment="Center" Margin="0,3"/>
                            <ComboBox Grid.Row="1" Grid.Column="1" x:Name="CmbBodyColor" Width="100" HorizontalAlignment="Left"
                                      SelectionChanged="Settings_Changed">
                                <ComboBoxItem Content="Lime" Tag="#32CD32" IsSelected="True"/>
                                <ComboBoxItem Content="Blue" Tag="#0078D4"/>
                                <ComboBoxItem Content="Red" Tag="#FF6B6B"/>
                                <ComboBoxItem Content="Yellow" Tag="#FFD700"/>
                                <ComboBoxItem Content="Orange" Tag="#FFA500"/>
                                <ComboBoxItem Content="Purple" Tag="#9B59B6"/>
                            </ComboBox>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Text Color:" VerticalAlignment="Center" Margin="0,3"/>
                            <ComboBox Grid.Row="2" Grid.Column="1" x:Name="CmbTextColor" Width="100" HorizontalAlignment="Left"
                                      SelectionChanged="Settings_Changed">
                                <ComboBoxItem Content="White" Tag="#FFFFFF" IsSelected="True"/>
                                <ComboBoxItem Content="Black" Tag="#000000"/>
                            </ComboBox>
                        </Grid>
                        
                        <Separator Margin="0,10"/>
                        
                        <!-- Custom Names -->
                        <TextBlock Text="Custom Names:" FontWeight="SemiBold" Margin="0,5"/>
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="90"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <TextBlock Grid.Row="0" Grid.Column="0" Text="Num Lock:" VerticalAlignment="Center" Margin="0,2"/>
                            <TextBox Grid.Row="0" Grid.Column="1" x:Name="TxtNumLockName" Text="Num Lock" 
                                     Margin="0,2" TextChanged="Settings_Changed"/>
                            
                            <TextBlock Grid.Row="1" Grid.Column="0" Text="Caps Lock:" VerticalAlignment="Center" Margin="0,2"/>
                            <TextBox Grid.Row="1" Grid.Column="1" x:Name="TxtCapsLockName" Text="Caps Lock" 
                                     Margin="0,2" TextChanged="Settings_Changed"/>
                            
                            <TextBlock Grid.Row="2" Grid.Column="0" Text="Scroll Lock:" VerticalAlignment="Center" Margin="0,2"/>
                            <TextBox Grid.Row="2" Grid.Column="1" x:Name="TxtScrollLockName" Text="Scroll Lock" 
                                     Margin="0,2" TextChanged="Settings_Changed"/>
                        </Grid>
                        
                        <Separator Margin="0,10"/>
                        
                        <!-- Hide options -->
                        <CheckBox x:Name="ChkHideWhenAllOff" 
                                  Content="Hide when all OFF" 
                                  IsChecked="True"
                                  Style="{StaticResource ModernCheckBox}"
                                  Checked="Settings_Changed" 
                                  Unchecked="Settings_Changed"/>
                        
                        <StackPanel Orientation="Horizontal" Margin="0,5">
                            <CheckBox x:Name="ChkHideAfterSec" 
                                      Content="Hide after (sec)" 
                                      Style="{StaticResource ModernCheckBox}"
                                      Checked="Settings_Changed" 
                                      Unchecked="Settings_Changed"/>
                            <TextBox x:Name="TxtHideAfterSec" 
                                     Width="50" 
                                     Text="1" 
                                     Margin="10,0,0,0"
                                     VerticalContentAlignment="Center"
                                     TextChanged="Settings_Changed"/>
                        </StackPanel>
                        
                        <!-- Opacity -->
                        <StackPanel Orientation="Horizontal" Margin="0,10,0,0">
                            <TextBlock Text="Opacity:" VerticalAlignment="Center" Width="60"/>
                            <Slider x:Name="SliderOpacity" 
                                    Width="150" 
                                    Minimum="10" 
                                    Maximum="100" 
                                    Value="80"
                                    VerticalAlignment="Center"
                                    ValueChanged="SliderOpacity_ValueChanged"/>
                            <TextBlock x:Name="TxtOpacity" Text="80%" VerticalAlignment="Center" Margin="10,0,0,0"/>
                        </StackPanel>
                        
                        <Separator Margin="0,10"/>
                        
                        <!-- Position Settings (Pixel Perfect) -->
                        <TextBlock Text="Position (Pixel Perfect):" FontWeight="SemiBold" Margin="0,5"/>
                        <Grid Margin="0,5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="40"/>
                                <ColumnDefinition Width="80"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            
                            <TextBlock Grid.Column="0" Text="X:" VerticalAlignment="Center"/>
                            <TextBox Grid.Column="1" x:Name="TxtPosX" Text="100" 
                                     VerticalContentAlignment="Center"
                                     TextChanged="Position_Changed"/>
                            <TextBlock Grid.Column="2" Text="Y:" VerticalAlignment="Center" Margin="10,0,0,0"/>
                            <TextBox Grid.Column="3" x:Name="TxtPosY" Text="100" 
                                     VerticalContentAlignment="Center"
                                     TextChanged="Position_Changed"/>
                            <Button Grid.Column="4" Content="ðŸ“ Drag" 
                                    Margin="10,0,0,0"
                                    Click="BtnDragOverlay_Click"
                                    ToolTip="Click to enable dragging the overlay"/>
                        </Grid>
                        
                    </StackPanel>
                </GroupBox>
                
            </StackPanel>
        </ScrollViewer>
        
        <!-- Footer with Toggle Buttons -->
        <Border Grid.Row="2" Background="#E8E8E8" Padding="10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button x:Name="BtnNumLock" Content="âšª Num Lock" Margin="5" Style="{StaticResource ModernButton}" Click="BtnNumLock_Click"/>
                <Button x:Name="BtnCapsLock" Content="âšª Caps Lock" Margin="5" Style="{StaticResource ModernButton}" Click="BtnCapsLock_Click"/>
                <Button x:Name="BtnScrollLock" Content="âšª Scroll Lock" Margin="5" Style="{StaticResource ModernButton}" Click="BtnScrollLock_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
